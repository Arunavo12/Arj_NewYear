<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1, viewport-fit=cover" />
  <title>Happy New Year âœ¨</title>
  <style>
    :root{
      --bg:#070711;
      --card: rgba(12, 10, 22, .58);
      --card2: rgba(12, 10, 22, .40);
      --text:#f3f4ff;
      --muted:#b9b9d6;
      --accent:#ff8fc8;
      --good:#41f5c0;
      --bad:#ff4d6d;
      --border: rgba(255,255,255,.12);
      --shadow: 0 18px 70px rgba(0,0,0,.55);
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--text);
      background:
        radial-gradient(1200px 600px at 20% 0%, rgba(124,92,255,.25), transparent 60%),
        radial-gradient(1000px 500px at 90% 20%, rgba(0,255,198,.12), transparent 60%),
        radial-gradient(900px 600px at 40% 120%, rgba(255,143,200,.18), transparent 55%),
        var(--bg);
      min-height:100vh;
      padding:
        calc(14px + env(safe-area-inset-top))
        calc(14px + env(safe-area-inset-right))
        calc(14px + env(safe-area-inset-bottom))
        calc(14px + env(safe-area-inset-left));
      display:grid;
      place-items:center;
    }

    .frame{
      width:min(980px, 100%);
      border-radius:26px;
      overflow:hidden;
      box-shadow: var(--shadow);
      border:1px solid rgba(255,255,255,.10);
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      position:relative;
    }

    /* ===== MAIN CONTENT (BLUR-LOCKED) ===== */
    .contentWrap{
      position:relative;
      padding: 26px 18px 44px;
    }
    .wrap{ max-width: 920px; margin: 0 auto; }

    h1{
      font-size: clamp(34px, 6vw, 58px);
      letter-spacing:-.02em;
      margin: 6px 0 10px;
      line-height:1.05;
    }
    .sub{
      color:var(--muted);
      font-size: 15px;
      line-height:1.55;
      max-width: 70ch;
      margin-bottom: 18px;
    }
    .grid{
      display:grid;
      grid-template-columns: 1.05fr .95fr;
      gap:18px;
      align-items:start;
    }
    @media (max-width: 860px){
      .grid{ grid-template-columns: 1fr; }
    }
    .card{
      background: rgba(10,10,20,.55);
      border:1px solid rgba(255,255,255,.10);
      border-radius: 18px;
      padding:16px;
      box-shadow: 0 12px 40px rgba(0,0,0,.35);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }
    video{
      width:100%;
      border-radius:14px;
      background:black;
      display:block;
      border:1px solid rgba(255,255,255,.08);
    }
    .para{
      font-size: 15px;
      color: var(--text);
      line-height:1.75;
    }
    .footer{
      margin-top: 18px;
      color: var(--muted);
      font-size: 12px;
      text-align:center;
      opacity:.9;
    }

    /* Blur/lock effect */
    .locked .contentWrap{
      filter: blur(10px) saturate(1.05);
      transform: scale(1.01);
      pointer-events:none;
      user-select:none;
      opacity:.75;
    }

    /* ===== OVERLAY LOCK UI ===== */
    .overlay{
      position:absolute;
      inset:0;
      display:grid;
      place-items:center;
      padding: 18px;
    }
    .overlayInner{
      width:min(520px, 96vw);
      text-align:center;
      position:relative;
    }

    .panel{
      background: rgba(0,0,0,.25);
      border:1px solid rgba(255,255,255,.12);
      border-radius: 22px;
      padding: 18px 16px 16px;
      box-shadow: 0 18px 60px rgba(0,0,0,.45);
      backdrop-filter: blur(14px);
      -webkit-backdrop-filter: blur(14px);
    }

    .kicker{
      color: rgba(255,255,255,.78);
      font-size: 13px;
      letter-spacing:.12em;
      text-transform: uppercase;
      margin-bottom: 10px;
    }

    .countdownBig{
      font-size: clamp(34px, 9vw, 56px);
      font-weight: 800;
      letter-spacing: -0.02em;
      margin: 2px 0 6px;
      text-shadow: 0 18px 40px rgba(0,0,0,.45);
    }
    .countdownSmall{
      color: var(--muted);
      font-size: 13px;
      margin-bottom: 14px;
    }

    .pinRow{
      display:flex;
      justify-content:center;
      gap:10px;
      margin: 10px 0 14px;
    }
    .pinBox{
      width: 44px;
      height: 52px;
      border-radius: 14px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.07);
      display:grid;
      place-items:center;
      font-size: 18px;
      font-weight: 750;
      color: rgba(255,255,255,.9);
      box-shadow: inset 0 1px 0 rgba(255,255,255,.12);
    }
    .pinBox.filled::after{
      content:"â€¢";
      font-size: 26px;
      line-height: 1;
    }

    .keypad{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
      margin-top: 8px;
    }
    .key{
      height: 54px;
      border-radius: 16px;
      border:1px solid rgba(255,255,255,.12);
      background: linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,.06));
      color: rgba(255,255,255,.92);
      font-size: 18px;
      font-weight: 750;
      cursor:pointer;
      -webkit-tap-highlight-color: transparent;
      touch-action: manipulation;
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      transition: transform .08s ease, filter .12s ease, border-color .12s ease;
    }
    .key:active{ transform: scale(.99); filter: brightness(1.06); }
    .key.alt{
      font-size: 13px;
      font-weight: 750;
      color: rgba(255,255,255,.78);
    }

    .msg{
      min-height: 18px;
      margin-top: 10px;
      font-size: 13px;
      color: var(--muted);
    }
    .msg.bad{ color: var(--bad); }
    .msg.good{ color: var(--good); }

    .shake{ animation: shake .35s ease; }
    @keyframes shake{
      0%,100%{ transform: translateX(0); }
      20%{ transform: translateX(-10px); }
      40%{ transform: translateX(9px); }
      60%{ transform: translateX(-7px); }
      80%{ transform: translateX(6px); }
    }

    /* When unlocked, hide overlay smoothly */
    .unlocked .overlay{
      opacity:0;
      pointer-events:none;
      transition: opacity .35s ease;
    }
    .unlocked .contentWrap{
      filter:none;
      transform:none;
      opacity:1;
      pointer-events:auto;
      transition: filter .35s ease, transform .35s ease, opacity .35s ease;
    }

    /* Mobile fit */
    @media (max-width: 420px){
      .pinBox{ width: 40px; height: 48px; }
      .key{ height: 52px; }
    }
  </style>
</head>

<body>
  <main class="frame locked" id="app">
    <!-- MAIN CONTENT (BLURRED UNTIL UNLOCK) -->
    <section class="contentWrap">
      <div class="wrap">
        <h1>Happy New Year ðŸŽ†</h1>
        <p class="sub">
          Replace this with your short intro message.
        </p>

        <div class="grid">
          <div class="card">
            <video controls playsinline preload="metadata">
              <source src="montage.mp4" type="video/mp4" />
              Your browser doesnâ€™t support video playback.
            </video>
          </div>

          <div class="card">
            <div class="para">
              Replace this with your longer paragraph. Make it personal âœ¨
              <br><br>
              â€” From me ðŸ’—
            </div>
          </div>
        </div>

        <div class="footer">Made with love âœ¨</div>
      </div>
    </section>

    <!-- OVERLAY LOCK / COUNTDOWN -->
    <section class="overlay" aria-label="Lock overlay">
      <div class="overlayInner" id="overlayInner">
        <div class="panel">
          <div class="kicker">Countdown to New Year</div>
          <div class="countdownBig" id="countdownBig">00:00:00</div>
          <div class="countdownSmall" id="countdownSmall">Unlocks at midnight (local time)</div>

          <div class="pinRow" aria-label="PIN">
            <div class="pinBox" id="b1"></div>
            <div class="pinBox" id="b2"></div>
            <div class="pinBox" id="b3"></div>
            <div class="pinBox" id="b4"></div>
            <div class="pinBox" id="b5"></div>
            <div class="pinBox" id="b6"></div>
          </div>

          <div class="keypad" aria-label="Keypad">
            <button class="key" data-n="1">1</button>
            <button class="key" data-n="2">2</button>
            <button class="key" data-n="3">3</button>
            <button class="key" data-n="4">4</button>
            <button class="key" data-n="5">5</button>
            <button class="key" data-n="6">6</button>
            <button class="key" data-n="7">7</button>
            <button class="key" data-n="8">8</button>
            <button class="key" data-n="9">9</button>

            <button class="key alt" id="clearBtn">Clear</button>
            <button class="key" data-n="0">0</button>
            <button class="key alt" id="delBtn">Delete</button>
          </div>

          <div class="msg" id="msg"></div>
        </div>
      </div>
    </section>
  </main>

  <script>
    /************* CONFIG *************/
    const CORRECT_PIN = "123456"; // <-- change this
    const UNLOCK_YEAR = 2026;     // <-- unlock moment: Jan 1, 2026 at 00:00 local time
    const UNLOCK_AT = new Date(UNLOCK_YEAR, 0, 1, 0, 0, 0, 0);

    /************* STATE *************/
    let pin = "";
    let correctEntered = false;

    const app = document.getElementById("app");
    const msg = document.getElementById("msg");
    const overlayInner = document.getElementById("overlayInner");
    const big = document.getElementById("countdownBig");
    const small = document.getElementById("countdownSmall");
    const boxes = [...Array(6)].map((_,i)=>document.getElementById("b"+(i+1)));

    const pad = n => String(n).padStart(2, "0");

    function updateBoxes(){
      boxes.forEach((b,i)=> b.classList.toggle("filled", i < pin.length));
    }

    function showMessage(text, kind){
      msg.textContent = text;
      msg.className = "msg" + (kind ? " " + kind : "");
    }

    function resetPin(withShake=false){
      pin = "";
      updateBoxes();
      if (withShake){
        overlayInner.classList.remove("shake");
        void overlayInner.offsetWidth;
        overlayInner.classList.add("shake");
      }
    }

    function nowIsAfterMidnight(){
      return Date.now() >= UNLOCK_AT.getTime();
    }

    function unlock(){
      app.classList.remove("locked");
      app.classList.add("unlocked");
    }

    function tickCountdown(){
      const now = new Date();
      const diffMs = UNLOCK_AT.getTime() - now.getTime();

      if (diffMs <= 0){
        big.textContent = "00:00:00";
        small.textContent = "Itâ€™s midnight ðŸŽ‰";

        // If correct PIN was entered earlier, auto-unlock at midnight:
        if (correctEntered && !app.classList.contains("unlocked")) {
          unlock();
        }
        return;
      }

      const total = Math.ceil(diffMs / 1000);
      const h = Math.floor(total / 3600);
      const m = Math.floor((total % 3600) / 60);
      const s = total % 60;

      big.textContent = `${pad(h)}:${pad(m)}:${pad(s)}`;
      small.textContent = "Unlocks at midnight (local time)";
    }

    function checkPin(){
      const pinOk = (pin === CORRECT_PIN);
      const timeOk = nowIsAfterMidnight();

      if (!pinOk){
        showMessage("Wrong code", "bad");
        correctEntered = false;
        resetPin(true);
        return;
      }

      correctEntered = true;

      if (!timeOk){
        showMessage("Correct code â€” will open after midnight", "good");
        resetPin(false);
        return;
      }

      showMessage("Unlocked ðŸŽ‰", "good");
      unlock();
    }

    /************* INPUT *************/
    document.querySelectorAll(".key[data-n]").forEach(btn=>{
      btn.addEventListener("click", ()=>{
        if (pin.length >= 6) return;
        pin += btn.dataset.n;
        updateBoxes();
        if (pin.length === 6) setTimeout(checkPin, 120);
      });
    });

    document.getElementById("delBtn").addEventListener("click", ()=>{
      pin = pin.slice(0,-1);
      updateBoxes();
      showMessage("", "");
    });

    document.getElementById("clearBtn").addEventListener("click", ()=>{
      resetPin(false);
      showMessage("", "");
    });

    // Desktop keyboard support
    window.addEventListener("keydown", (e)=>{
      if (app.classList.contains("unlocked")) return;

      if (/^\d$/.test(e.key)){
        if (pin.length < 6){
          pin += e.key;
          updateBoxes();
          if (pin.length === 6) setTimeout(checkPin, 120);
        }
      } else if (e.key === "Backspace"){
        pin = pin.slice(0,-1);
        updateBoxes();
      } else if (e.key === "Escape"){
        resetPin(false);
      }
    });

    tickCountdown();
    setInterval(tickCountdown, 250);
  </script>
</body>
</html>
