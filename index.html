<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<title>Happy New Year âœ¨</title>

<style>
:root{
  --bg:#070711;
  --text:#f3f4ff;
  --muted:#b9b9d6;
  --accent:#ff8fc8;
  --good:#41f5c0;
  --bad:#ff4d6d;
  --border: rgba(255,255,255,.14);
  --shadow:0 22px 90px rgba(0,0,0,.65);
  --glass: rgba(255,255,255,.08);
  --glass2: rgba(255,255,255,.12);
}

*{box-sizing:border-box;}
html,body{height:100%;}
body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  background:
    radial-gradient(1200px 600px at 20% 0%, rgba(124,92,255,.25), transparent 60%),
    radial-gradient(1000px 500px at 90% 20%, rgba(0,255,198,.12), transparent 60%),
    radial-gradient(900px 600px at 40% 120%, rgba(255,143,200,.18), transparent 55%),
    var(--bg);
  color:var(--text);
  min-height:100vh;
}

/* ===== FULLSCREEN OVERLAY ===== */
.overlay{
  position:fixed;
  inset:0;
  z-index:9999;
  display:grid;
  place-items:center;
  padding:
    calc(20px + env(safe-area-inset-top))
    calc(20px + env(safe-area-inset-right))
    calc(20px + env(safe-area-inset-bottom))
    calc(20px + env(safe-area-inset-left));
  background:
    radial-gradient(1200px 600px at 20% 0%, rgba(124,92,255,.35), transparent 60%),
    radial-gradient(1000px 500px at 90% 20%, rgba(0,255,198,.18), transparent 60%),
    radial-gradient(900px 600px at 40% 120%, rgba(255,143,200,.25), transparent 55%),
    rgba(7,7,17,.88);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  transition: opacity .35s ease;
}

.overlay.hidden{
  opacity:0;
  pointer-events:none;
}

.panel{
  width:min(560px,95vw);
  text-align:center;
  background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.06));
  border:1px solid var(--border);
  border-radius:28px;
  padding:22px 18px 18px;
  box-shadow:var(--shadow);
  position:relative;
  overflow:hidden;
}

.panel::before{
  content:"";
  position:absolute;
  inset:-2px;
  background:
    radial-gradient(500px 220px at 20% 0%, rgba(255,143,200,.18), transparent 55%),
    radial-gradient(500px 220px at 80% 20%, rgba(124,92,255,.18), transparent 55%);
  pointer-events:none;
}

.panel > *{ position:relative; z-index:1; }

.kicker{
  font-size:12.5px;
  letter-spacing:.14em;
  text-transform:uppercase;
  color:rgba(255,255,255,.78);
  margin-bottom:10px;
}

.countdownBig{
  font-size:clamp(38px,10vw,58px);
  font-weight:850;
  letter-spacing:-.02em;
  text-shadow: 0 18px 40px rgba(0,0,0,.45);
  user-select:none;
}

.countdownSmall{
  font-size:13px;
  color:var(--muted);
  margin: 4px 0 16px;
}

.pinRow{
  display:flex;
  justify-content:center;
  gap:10px;
  margin-bottom:14px;
}
.pinBox{
  width:44px;
  height:52px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.18);
  background: rgba(0,0,0,.18);
  box-shadow: inset 0 1px 0 rgba(255,255,255,.10);
}
.pinBox.filled::after{
  content:"â€¢";
  display:grid;
  place-items:center;
  font-size:28px;
  height:100%;
  color: rgba(255,255,255,.92);
}

.keypad{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:10px;
}
.key{
  height:54px;
  border-radius:16px;
  border:1px solid rgba(255,255,255,.14);
  background: linear-gradient(180deg, rgba(255,255,255,.14), rgba(255,255,255,.06));
  color:white;
  font-size:18px;
  font-weight:800;
  cursor:pointer;
  -webkit-tap-highlight-color:transparent;
  touch-action: manipulation;
  transition: transform .08s ease, filter .12s ease, border-color .12s ease;
}
.key:active{
  transform: scale(.99);
  filter: brightness(1.06);
  border-color: rgba(255,255,255,.18);
}
.key.alt{
  font-size:13px;
  font-weight:800;
  color:rgba(255,255,255,.78);
}

.msg{
  margin-top:12px;
  min-height:18px;
  font-size:13px;
  line-height:1.35;
}
.msg.bad{color:var(--bad);}
.msg.good{color:var(--good);}

.previewHint{
  margin-top:10px;
  font-size:12px;
  color: rgba(255,255,255,.70);
  display:none;
}

.shake{animation:shake .35s;}
@keyframes shake{
  0%,100%{transform:translateX(0)}
  25%{transform:translateX(-8px)}
  50%{transform:translateX(8px)}
  75%{transform:translateX(-6px)}
}

/* ===== MAIN CONTENT ===== */
.frame{
  max-width:980px;
  margin:0 auto;
  padding:
    calc(28px + env(safe-area-inset-top))
    calc(18px + env(safe-area-inset-right))
    calc(44px + env(safe-area-inset-bottom))
    calc(18px + env(safe-area-inset-left));
  transition: filter .35s ease, opacity .35s ease, transform .35s ease;
}

.locked .frame{
  filter: blur(12px) saturate(1.05);
  opacity:.55;
  pointer-events:none;
  transform: scale(1.01);
}

h1{
  font-size:clamp(34px,6vw,58px);
  margin: 6px 0 10px;
  letter-spacing:-.02em;
  line-height:1.05;
}
.sub{
  color:var(--muted);
  max-width:70ch;
  line-height:1.6;
}

.grid{
  display:grid;
  grid-template-columns:1.1fr .9fr;
  gap:18px;
  margin-top:18px;
}
@media(max-width:850px){
  .grid{grid-template-columns:1fr}
}

.card{
  background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.05));
  border: 1px solid rgba(255,255,255,.10);
  border-radius:20px;
  padding:16px;
  box-shadow: 0 14px 40px rgba(0,0,0,.35);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

video{
  width:100%;
  border-radius:14px;
  background:black;
  display:block;
  border: 1px solid rgba(255,255,255,.08);
}

.footer{
  margin-top:18px;
  font-size:12px;
  color:var(--muted);
  text-align:center;
}
</style>
</head>

<body class="locked">

<!-- FULLSCREEN LOCK -->
<section class="overlay" id="overlay">
  <div class="panel" id="panel">
    <div class="kicker">Countdown to New Year (Arj)</div>
    <div class="countdownBig" id="countdown" title="(secret) press and hold to preview">00:00:00</div>
    <div class="countdownSmall" id="countdownText">Unlocks at midnight on New Years</div>

    <div class="pinRow">
      <div class="pinBox" id="b1"></div>
      <div class="pinBox" id="b2"></div>
      <div class="pinBox" id="b3"></div>
      <div class="pinBox" id="b4"></div>
      <div class="pinBox" id="b5"></div>
      <div class="pinBox" id="b6"></div>
    </div>

    <div class="keypad">
      <button class="key" data-n="1" type="button">1</button>
      <button class="key" data-n="2" type="button">2</button>
      <button class="key" data-n="3" type="button">3</button>
      <button class="key" data-n="4" type="button">4</button>
      <button class="key" data-n="5" type="button">5</button>
      <button class="key" data-n="6" type="button">6</button>
      <button class="key" data-n="7" type="button">7</button>
      <button class="key" data-n="8" type="button">8</button>
      <button class="key" data-n="9" type="button">9</button>
      <button class="key alt" id="clear" type="button">Clear</button>
      <button class="key" data-n="0" type="button">0</button>
      <button class="key alt" id="del" type="button">Delete</button>
    </div>

    <div class="msg" id="msg"></div>
    <div class="previewHint" id="previewHint">Preview mode is ON â€” lock bypassed.</div>
  </div>
</section>

<!-- CONTENT -->
<main class="frame">
  <h1>Happy New Year ðŸŽ†</h1>
  <p class="sub">Replace this with your message.</p>

  <div class="grid">
    <div class="card">
      <video controls playsinline preload="metadata">
        <source src="montage.mp4" type="video/mp4">
      </video>
      <p class="sub" style="margin:10px 0 0; font-size:12px;">
        If the video doesnâ€™t load: check the filename + keep it in the same folder as this HTML file.
      </p>
    </div>
    <div class="card">
      <div class="sub" style="color:rgba(255,255,255,.92);">
        Replace this with your longer paragraph ðŸ’—
      </div>
    </div>
  </div>

  <div class="footer">Made with love âœ¨</div>
</main>

<script>
/************* YOUR CONFIG *************/
const CORRECT_PIN = "151021";
const UNLOCK_YEAR = 2026;
const UNLOCK_AT = new Date(UNLOCK_YEAR, 0, 1, 0, 0, 0, 0);

/************* OPTIONAL: URL PREVIEW MODE *************/
// You can still use #preview if you ever want.
const URL_PREVIEW_MODE = location.hash.toLowerCase() === "#preview";

/************* STATE *************/
let pin = "";
let correct = false;

const overlay = document.getElementById("overlay");
const panel  = document.getElementById("panel");
const msgEl  = document.getElementById("msg");

const delBtn   = document.getElementById("del");
const clearBtn = document.getElementById("clear");

const countdownEl = document.getElementById("countdown");
const countdownTextEl = document.getElementById("countdownText");

const boxes = [...Array(6)].map((_, i) => document.getElementById("b" + (i + 1)));

function updateDots(){
  boxes.forEach((b, i) => b.classList.toggle("filled", i < pin.length));
}

function resetPin(withShake){
  pin = "";
  updateDots();
  if(withShake){
    panel.classList.remove("shake");
    void panel.offsetWidth;
    panel.classList.add("shake");
  }
}

function showMessage(text, kind){
  msgEl.textContent = text;
  msgEl.className = "msg" + (kind ? " " + kind : "");
}

function unlock(){
  document.body.classList.remove("locked");
  overlay.classList.add("hidden");
  setTimeout(() => { overlay.style.display = "none"; }, 360);
}

function checkPin(){
  if(pin !== CORRECT_PIN){
    showMessage("Wrong code- Hint: you can find it on Snapchat", "bad");
    correct = false;
    resetPin(true);
    return;
  }

  correct = true;

  if(Date.now() < UNLOCK_AT.getTime()){
    showMessage("Correct code â€” will open after midnight on New Years", "good");
    resetPin(false);
    return;
  }

  unlock();
}

/************* INPUT *************/
document.querySelectorAll(".key[data-n]").forEach(btn => {
  btn.addEventListener("click", () => {
    if(pin.length >= 6) return;
    pin += btn.dataset.n;
    updateDots();
    if(pin.length === 6) setTimeout(checkPin, 120);
  });
});

delBtn.addEventListener("click", () => {
  pin = pin.slice(0, -1);
  updateDots();
});

clearBtn.addEventListener("click", () => {
  resetPin(false);
  showMessage("", "");
});

// Desktop keyboard support
window.addEventListener("keydown", (e) => {
  if(overlay.style.display === "none") return;

  if(/^\d$/.test(e.key)){
    if(pin.length < 6){
      pin += e.key;
      updateDots();
      if(pin.length === 6) setTimeout(checkPin, 120);
    }
  } else if(e.key === "Backspace"){
    pin = pin.slice(0, -1);
    updateDots();
  } else if(e.key === "Escape"){
    resetPin(false);
    showMessage("", "");
  }
});

/************* COUNTDOWN *************/
const pad2 = (n) => String(n).padStart(2, "0");

function tick(){
  const diffMs = UNLOCK_AT.getTime() - Date.now();

  if(diffMs <= 0){
    countdownEl.textContent = "00:00:00";
    countdownTextEl.textContent = "Itâ€™s midnight ðŸŽ‰";
    if(correct) unlock();
    return;
  }

  const total = Math.ceil(diffMs / 1000);
  const h = Math.floor(total / 3600);
  const m = Math.floor((total % 3600) / 60);
  const s = total % 60;

  countdownEl.textContent = `${pad2(h)}:${pad2(m)}:${pad2(s)}`;
}

tick();
setInterval(tick, 250);

/************* SECRET BYPASS: PRESS & HOLD COUNTDOWN (3s) *************/
let holdTimer = null;
let holding = false;

function startHold(){
  if(overlay.style.display === "none") return;
  holding = true;
  // little hint for you while holding:
  showMessage("Holdâ€¦ (secret preview)", "");
  holdTimer = setTimeout(() => {
    if(!holding) return;
    document.getElementById("previewHint").style.display = "block";
    showMessage("Preview unlocked âœ…", "good");
    unlock();
  }, 3000);
}

function endHold(){
  holding = false;
  if(holdTimer){
    clearTimeout(holdTimer);
    holdTimer = null;
  }
  // clear the hint message only if they haven't entered anything
  if(pin.length === 0 && overlay.style.display !== "none"){
    // don't overwrite wrong/correct messages
    if(!msgEl.classList.contains("bad") && !msgEl.classList.contains("good")){
      showMessage("", "");
    }
  }
}

// Touch + mouse
countdownEl.addEventListener("pointerdown", (e) => {
  // avoid selecting text / scrolling hold
  e.preventDefault();
  startHold();
});
countdownEl.addEventListener("pointerup", endHold);
countdownEl.addEventListener("pointercancel", endHold);
countdownEl.addEventListener("pointerleave", endHold);

// Fallback for older Safari that can be picky (still fine to keep)
countdownEl.addEventListener("touchstart", (e)=>{ e.preventDefault(); startHold(); }, {passive:false});
countdownEl.addEventListener("touchend", endHold);
countdownEl.addEventListener("touchcancel", endHold);

/************* OPTIONAL URL PREVIEW *************/
if(URL_PREVIEW_MODE){
  document.getElementById("previewHint").style.display = "block";
  unlock();
}
</script>

</body>
</html>
