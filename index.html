<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Happy New Year âœ¨</title>
  <style>
    :root{
      --bg:#070711;
      --text:#f3f4ff;
      --muted:#b9b9d6;
      --accent:#ff8fc8;
      --good:#41f5c0;
      --bad:#ff4d6d;
      --shadow: 0 18px 60px rgba(0,0,0,.45);
    }
    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--text);
      background:
        radial-gradient(1200px 600px at 20% 0%, rgba(124,92,255,.25), transparent 60%),
        radial-gradient(1000px 500px at 90% 20%, rgba(0,255,198,.12), transparent 60%),
        radial-gradient(900px 600px at 40% 120%, rgba(255,143,200,.18), transparent 55%),
        var(--bg);
      min-height:100vh;
      display:grid;
      place-items:center;
      padding:22px;
    }

    .frame{
      width:min(980px, 100%);
      border-radius:26px;
      overflow:hidden;
      box-shadow: var(--shadow);
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      border:1px solid rgba(255,255,255,.10);
    }

    /* Lock screen */
    .lock{
      padding:26px 18px 30px;
      min-height: 640px;
      display:grid;
      place-items:center;
      position:relative;
    }
    .lock::before{
      content:"";
      position:absolute; inset:0;
      background:
        radial-gradient(700px 340px at 50% -10%, rgba(255,143,200,.25), transparent 60%),
        radial-gradient(700px 340px at 80% 30%, rgba(124,92,255,.22), transparent 60%),
        radial-gradient(700px 340px at 20% 30%, rgba(0,255,198,.12), transparent 60%);
      pointer-events:none;
      opacity:.95;
    }
    .lockInner{
      width:min(420px, 92vw);
      position:relative;
      z-index:1;
      text-align:center;
    }
    .time{
      font-size:54px;
      font-weight:700;
      letter-spacing:-.02em;
      margin:6px 0 2px;
      text-shadow: 0 10px 30px rgba(0,0,0,.35);
    }
    .date{
      color:var(--muted);
      font-size:15px;
      margin-bottom:10px;
    }

    .countdown{
      display:inline-block;
      padding:10px 14px;
      border-radius:999px;
      background: rgba(0,0,0,.28);
      border:1px solid rgba(255,255,255,.10);
      color:var(--muted);
      font-size:13px;
      margin: 6px 0 16px;
    }

    .pinDots{
      display:flex;
      justify-content:center;
      gap:10px;
      margin: 8px 0 18px;
    }
    .pinDot{
      width:12px; height:12px; border-radius:50%;
      border:1px solid rgba(255,255,255,.30);
      background: rgba(255,255,255,.06);
      transition: transform .12s ease, background .12s ease, border-color .12s ease;
    }
    .pinDot.filled{
      background: rgba(255,255,255,.88);
      border-color: rgba(255,255,255,.88);
      transform: scale(1.05);
    }

    .keypad{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:12px;
      margin-top: 8px;
    }
    .key{
      aspect-ratio: 1 / 1;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.08);
      box-shadow: inset 0 1px 0 rgba(255,255,255,.12);
      color:var(--text);
      font-size:22px;
      font-weight:650;
      cursor:pointer;
      user-select:none;
      display:grid;
      place-items:center;
      transition: transform .08s ease, background .12s ease, border-color .12s ease;
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }
    .key:active{
      transform: scale(.98);
      background: rgba(255,255,255,.14);
      border-color: rgba(255,255,255,.18);
    }
    .rowBottom{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:12px;
      margin-top:12px;
    }
    .key.small{
      font-size:16px;
      font-weight:600;
      color:var(--muted);
    }

    .msg{
      margin-top:12px;
      min-height:20px;
      font-size:13px;
      color:var(--muted);
    }
    .msg.bad{ color: var(--bad); }
    .msg.good{ color: var(--good); }

    .shake{ animation: shake .35s ease; }
    @keyframes shake{
      0%,100%{ transform: translateX(0); }
      20%{ transform: translateX(-10px); }
      40%{ transform: translateX(9px); }
      60%{ transform: translateX(-7px); }
      80%{ transform: translateX(6px); }
    }

    /* Unlocked content */
    .content{ display:none; padding:28px 18px 44px; }
    .wrap{ max-width: 920px; margin: 0 auto; }
    h1{
      font-size: clamp(34px, 6vw, 58px);
      letter-spacing:-.02em;
      margin: 6px 0 10px;
      line-height:1.05;
    }
    .sub{
      color:var(--muted);
      font-size: 15px;
      line-height:1.55;
      max-width: 70ch;
      margin-bottom: 18px;
    }
    .grid{
      display:grid;
      grid-template-columns: 1.05fr .95fr;
      gap:18px;
      align-items:start;
    }
    @media (max-width: 860px){
      .grid{ grid-template-columns: 1fr; }
    }
    .card{
      background: rgba(10,10,20,.55);
      border:1px solid rgba(255,255,255,.10);
      border-radius: 18px;
      padding:16px;
      box-shadow: 0 12px 40px rgba(0,0,0,.35);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }
    video{
      width:100%;
      border-radius:14px;
      background:black;
      display:block;
      border:1px solid rgba(255,255,255,.08);
    }
    .para{
      font-size: 15px;
      color: var(--text);
      line-height:1.75;
    }
    .footer{
      margin-top: 18px;
      color: var(--muted);
      font-size: 12px;
      text-align:center;
      opacity:.9;
    }
  </style>
</head>
<body>
  <main class="frame">
    <!-- LOCK -->
    <section class="lock" id="lockScreen">
      <div class="lockInner" id="lockInner">
        <div class="time" id="clock">00:00</div>
        <div class="date" id="dateLine">â€”</div>

        <div class="countdown" id="countdown">Counting downâ€¦</div>

        <div class="pinDots" aria-label="PIN">
          <div class="pinDot" id="d1"></div>
          <div class="pinDot" id="d2"></div>
          <div class="pinDot" id="d3"></div>
          <div class="pinDot" id="d4"></div>
          <div class="pinDot" id="d5"></div>
          <div class="pinDot" id="d6"></div>
        </div>

        <div class="keypad" aria-label="Keypad">
          <button class="key" data-n="1">1</button>
          <button class="key" data-n="2">2</button>
          <button class="key" data-n="3">3</button>
          <button class="key" data-n="4">4</button>
          <button class="key" data-n="5">5</button>
          <button class="key" data-n="6">6</button>
          <button class="key" data-n="7">7</button>
          <button class="key" data-n="8">8</button>
          <button class="key" data-n="9">9</button>
        </div>

        <div class="rowBottom">
          <button class="key small" id="clearBtn">Clear</button>
          <button class="key" data-n="0">0</button>
          <button class="key small" id="delBtn">Delete</button>
        </div>

        <div class="msg" id="msg"></div>
      </div>
    </section>

    <!-- UNLOCKED -->
    <section class="content" id="content">
      <div class="wrap">
        <h1>Happy New Year ðŸŽ†</h1>
        <p class="sub">
          Replace this with your message. You can keep it short here.
        </p>

        <div class="grid">
          <div class="card">
            <video controls playsinline preload="metadata">
              <source src="montage.mp4" type="video/mp4" />
              Your browser doesnâ€™t support video playback.
            </video>
          </div>
          <div class="card">
            <div class="para">
              Replace this with your longer paragraph. Add emojis, memories, whatever you want âœ¨
            </div>
          </div>
        </div>

        <div class="footer">Made with love âœ¨</div>
      </div>
    </section>
  </main>

  <script>
    /************* CONFIG *************/
    const CORRECT_PIN = "123456"; // <-- change this
    const UNLOCK_YEAR = 2026;     // <-- unlocks at Jan 1, 2026 00:00:00 (local time)
    const UNLOCK_AT = new Date(UNLOCK_YEAR, 0, 1, 0, 0, 0, 0);

    /************* STATE *************/
    let pin = "";
    let correctEntered = false; // becomes true when they entered the correct PIN once

    const lockScreen = document.getElementById("lockScreen");
    const content = document.getElementById("content");
    const msg = document.getElementById("msg");
    const lockInner = document.getElementById("lockInner");
    const countdownEl = document.getElementById("countdown");
    const dots = [...Array(6)].map((_,i)=>document.getElementById("d"+(i+1)));

    function updateDots(){
      dots.forEach((d,i)=> d.classList.toggle("filled", i < pin.length));
    }

    function showMessage(text, kind){
      msg.textContent = text;
      msg.className = "msg" + (kind ? " " + kind : "");
    }

    function resetPin(withShake=false){
      pin = "";
      updateDots();
      if (withShake){
        lockInner.classList.remove("shake");
        void lockInner.offsetWidth;
        lockInner.classList.add("shake");
      }
    }

    function nowIsAfterMidnight(){
      return new Date().getTime() >= UNLOCK_AT.getTime();
    }

    function unlock(){
      lockScreen.style.display = "none";
      content.style.display = "block";
    }

    function formatTime(d){
      return d.toLocaleTimeString([], { hour: "2-digit", minute: "2-digit" });
    }

    function pad(n){ return String(n).padStart(2,"0"); }

    function tick(){
      const now = new Date();
      document.getElementById("clock").textContent = formatTime(now);
      document.getElementById("dateLine").textContent =
        now.toLocaleDateString([], { weekday:"long", month:"long", day:"numeric" });

      const diffMs = UNLOCK_AT.getTime() - now.getTime();

      if (diffMs <= 0){
        countdownEl.textContent = "Itâ€™s midnight ðŸŽ‰";
        // If they already entered the correct code earlier, auto-open now.
        if (correctEntered && lockScreen.style.display !== "none"){
          unlock();
        }
      } else {
        const total = Math.ceil(diffMs/1000);
        const h = Math.floor(total/3600);
        const m = Math.floor((total%3600)/60);
        const s = total%60;
        countdownEl.textContent = `Unlocks in ${pad(h)}:${pad(m)}:${pad(s)}`;
      }
    }

    function checkPin(){
      const pinOk = (pin === CORRECT_PIN);
      const timeOk = nowIsAfterMidnight();

      if (!pinOk){
        showMessage("Wrong code", "bad");
        correctEntered = false;
        resetPin(true);
        return;
      }

      // PIN is correct
      correctEntered = true;

      if (!timeOk){
        showMessage("Correct code â€” will open after midnight", "good");
        // Keep them on lock screen; clear dots (optional)
        resetPin(false);
        return;
      }

      // Correct + midnight passed => unlock now
      showMessage("Unlocked ðŸŽ‰", "good");
      unlock();
    }

    /************* INPUT *************/
    document.querySelectorAll(".key[data-n]").forEach(btn=>{
      btn.addEventListener("click", ()=>{
        if (pin.length >= 6) return;
        pin += btn.dataset.n;
        updateDots();
        if (pin.length === 6){
          setTimeout(checkPin, 120);
        }
      });
    });

    document.getElementById("delBtn").addEventListener("click", ()=>{
      pin = pin.slice(0,-1);
      updateDots();
      showMessage("", "");
    });

    document.getElementById("clearBtn").addEventListener("click", ()=>{
      resetPin(false);
      showMessage("", "");
    });

    // Keyboard support (desktop)
    window.addEventListener("keydown", (e)=>{
      if (content.style.display === "block") return;
      if (/^\d$/.test(e.key)){
        if (pin.length < 6){
          pin += e.key;
          updateDots();
          if (pin.length === 6) setTimeout(checkPin, 120);
        }
      } else if (e.key === "Backspace"){
        pin = pin.slice(0,-1);
        updateDots();
      } else if (e.key === "Escape"){
        resetPin(false);
      }
    });

    // Start countdown/clock
    tick();
    setInterval(tick, 250);
  </script>
</body>
</html>
